{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":["file:///Users/ramanakumar/TaskGlyph/src/app/api/payment/verify/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\nimport crypto from \"crypto\";\n\nexport async function POST(req: Request) {\n  try {\n    const { razorpay_order_id, razorpay_payment_id, razorpay_signature } =\n      await req.json();\n\n    const body = razorpay_order_id + \"|\" + razorpay_payment_id;\n\n    // Verify signature using Secret Key\n    const expectedSignature = crypto\n      .createHmac(\"sha256\", process.env.RAZORPAY_KEY_SECRET!)\n      .update(body.toString())\n      .digest(\"hex\");\n\n    const isAuthentic = expectedSignature === razorpay_signature;\n\n    if (isAuthentic) {\n      return NextResponse.json({\n        message: \"Payment verified successfully\",\n        success: true,\n      });\n    } else {\n      return NextResponse.json(\n        { message: \"Invalid signature\", success: false },\n        { status: 400 }\n      );\n    }\n  } catch (error) {\n    console.error(\"Error verifying payment:\", error);\n    return NextResponse.json(\n      { error: \"Internal Server Error\" },\n      { status: 500 }\n    );\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe,KAAK,GAAY;IACrC,IAAI;QACF,MAAM,EAAE,iBAAiB,EAAE,mBAAmB,EAAE,kBAAkB,EAAE,GAClE,MAAM,IAAI,IAAI;QAEhB,MAAM,OAAO,oBAAoB,MAAM;QAEvC,oCAAoC;QACpC,MAAM,oBAAoB,gHAAM,CAC7B,UAAU,CAAC,UAAU,QAAQ,GAAG,CAAC,mBAAmB,EACpD,MAAM,CAAC,KAAK,QAAQ,IACpB,MAAM,CAAC;QAEV,MAAM,cAAc,sBAAsB;QAE1C,IAAI,aAAa;YACf,OAAO,gJAAY,CAAC,IAAI,CAAC;gBACvB,SAAS;gBACT,SAAS;YACX;QACF,OAAO;YACL,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,SAAS;gBAAqB,SAAS;YAAM,GAC/C;gBAAE,QAAQ;YAAI;QAElB;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,4BAA4B;QAC1C,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAwB,GACjC;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}