{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/ramanakumar/TaskGlyph/src/lib/db/usePomodoro.ts"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useCallback } from \"react\"; // âœ… 1. Import useCallback\nimport db, { PomodoroSession, OperationType, EntityType } from \"./clientDb\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { useTier } from \"./useTier\";\nimport { triggerSync } from \"../sync/syncService\";\n\nexport function usePomodoro() {\n  const [sessions, setSessions] = useState<PomodoroSession[]>([]);\n  const tier = useTier();\n  const canSync = !!tier;\n\n  // Load Pomodoro sessions from IndexedDB on mount\n  useEffect(() => {\n    const fetchSessions = async () => {\n      const allSessions = await db.pomodoroSessions.toArray();\n      const sorted = allSessions.sort((a, b) => b.completedAt - a.completedAt);\n      setSessions(sorted);\n    };\n    fetchSessions();\n  }, []); // Empty dependency array is correct here\n\n  const logSession = useCallback(\n    async (durationMinutes: number, type: \"work\" | \"break\") => {\n      const newSession: PomodoroSession = {\n        id: uuidv4(),\n        durationMinutes,\n        completedAt: Date.now(),\n        type: type,\n      };\n      await db.pomodoroSessions.add(newSession);\n      setSessions((prev) => [newSession, ...prev]);\n\n      // Add to sync outbox if paid user\n      if (canSync) {\n        const syncOp = {\n          id: uuidv4(),\n          entityType: \"pomodoro\" as EntityType,\n          operation: \"create\" as OperationType,\n          payload: newSession,\n          timestamp: Date.now(),\n        };\n        await db.syncOutbox.add(syncOp);\n        console.log(`ðŸ“¤ Added CREATE Pomodoro ${type} session to sync outbox`);\n        triggerSync(); // Poke the sync service\n      }\n\n      return newSession;\n    },\n    [canSync] // âœ… 3. Add dependencies\n  );\n\n  return {\n    sessions,\n    logSession,\n  };\n}\n"],"names":[],"mappings":";;;;AAEA,oVAA0D,0BAA0B;AACpF;AACA;AACA;AACA;AANA;;;;;;AAQO,SAAS;IACd,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAoB,EAAE;IAC9D,MAAM,OAAO,IAAA,sIAAO;IACpB,MAAM,UAAU,CAAC,CAAC;IAElB,iDAAiD;IACjD,IAAA,kNAAS,EAAC;QACR,MAAM,gBAAgB;YACpB,MAAM,cAAc,MAAM,uIAAE,CAAC,gBAAgB,CAAC,OAAO;YACrD,MAAM,SAAS,YAAY,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,WAAW,GAAG,EAAE,WAAW;YACvE,YAAY;QACd;QACA;IACF,GAAG,EAAE,GAAG,yCAAyC;IAEjD,MAAM,aAAa,IAAA,oNAAW,EAC5B,OAAO,iBAAyB;QAC9B,MAAM,aAA8B;YAClC,IAAI,IAAA,iLAAM;YACV;YACA,aAAa,KAAK,GAAG;YACrB,MAAM;QACR;QACA,MAAM,uIAAE,CAAC,gBAAgB,CAAC,GAAG,CAAC;QAC9B,YAAY,CAAC,OAAS;gBAAC;mBAAe;aAAK;QAE3C,kCAAkC;QAClC,IAAI,SAAS;YACX,MAAM,SAAS;gBACb,IAAI,IAAA,iLAAM;gBACV,YAAY;gBACZ,WAAW;gBACX,SAAS;gBACT,WAAW,KAAK,GAAG;YACrB;YACA,MAAM,uIAAE,CAAC,UAAU,CAAC,GAAG,CAAC;YACxB,QAAQ,GAAG,CAAC,CAAC,yBAAyB,EAAE,KAAK,uBAAuB,CAAC;YACrE,IAAA,gJAAW,KAAI,wBAAwB;QACzC;QAEA,OAAO;IACT,GACA;QAAC;KAAQ,CAAC,wBAAwB;;IAGpC,OAAO;QACL;QACA;IACF;AACF","debugId":null}},
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"sources":["file:///Users/ramanakumar/TaskGlyph/src/app/app/pomodoro/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useRef } from \"react\";\nimport { usePomodoro } from \"@/lib/db/usePomodoro\";\nimport { PomodoroSession } from \"@/lib/db/clientDb\";\nimport { format } from \"date-fns\";\n\n// LocalStorage keys for persistence\nconst STORAGE_KEY = {\n  END_TIME: \"pomodoro_end_time\",\n  IS_RUNNING: \"pomodoro_is_running\",\n  MODE: \"pomodoro_mode\",\n  STARTED_DURATION: \"pomodoro_started_duration\",\n};\n\nexport default function PomodoroPage() {\n  const { sessions, logSession } = usePomodoro();\n\n  // State for configurable times\n  const [workMinutes, setWorkMinutes] = useState(25);\n  const [breakMinutes, setBreakMinutes] = useState(5);\n\n  // Timer state\n  const [timeLeft, setTimeLeft] = useState(workMinutes * 60);\n  const [isRunning, setIsRunning] = useState(false);\n  const [mode, setMode] = useState<\"work\" | \"break\">(\"work\");\n  const intervalRef = useRef<NodeJS.Timeout | null>(null);\n  const hasRunLoadEffect = useRef(false);\n\n  // Lock to prevent duplicate saves\n  const [isLogging, setIsLogging] = useState(false);\n\n  // --- Helper Functions ---\n  const formatTime = (seconds: number) => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins.toString().padStart(2, \"0\")}:${secs\n      .toString()\n      .padStart(2, \"0\")}`;\n  };\n\n  // Helper to clear all timer storage\n  const clearStorage = () => {\n    localStorage.removeItem(STORAGE_KEY.END_TIME);\n    localStorage.removeItem(STORAGE_KEY.IS_RUNNING);\n    localStorage.removeItem(STORAGE_KEY.MODE);\n    localStorage.removeItem(STORAGE_KEY.STARTED_DURATION);\n  };\n\n  // --- Timer Effects ---\n\n  // Effect handles \"catching up\" when you switch tabs\n  useEffect(() => {\n    const handleVisibilityChange = () => {\n      if (document.visibilityState === \"visible\") {\n        // Tab is active, let's check the timer\n        const storedEndTime = localStorage.getItem(STORAGE_KEY.END_TIME);\n        const storedIsRunning =\n          localStorage.getItem(STORAGE_KEY.IS_RUNNING) === \"true\";\n        const storedMode = (localStorage.getItem(STORAGE_KEY.MODE) ||\n          \"work\") as \"work\" | \"break\";\n        const storedDuration = parseInt(\n          localStorage.getItem(STORAGE_KEY.STARTED_DURATION) || \"0\"\n        );\n\n        if (storedIsRunning && storedEndTime) {\n          const remainingTime = Math.round(\n            (parseInt(storedEndTime) - Date.now()) / 1000\n          );\n\n          if (remainingTime > 0) {\n            // Timer is still running, catch up\n            setTimeLeft(remainingTime);\n          } else {\n            // Timer finished while tab was in background\n            setIsRunning(false);\n            clearStorage();\n            if (!isLogging) {\n              setIsLogging(true);\n              if (storedMode === \"work\") {\n                logSession(storedDuration, \"work\").then(() =>\n                  setIsLogging(false)\n                );\n                alert(\"Focus session finished while you were away!\");\n              } else {\n                logSession(storedDuration, \"break\").then(() =>\n                  setIsLogging(false)\n                );\n                alert(\"Break finished while you were away!\");\n              }\n            }\n            setMode(\"work\");\n            setTimeLeft(workMinutes * 60);\n          }\n        }\n      }\n    };\n\n    document.addEventListener(\"visibilitychange\", handleVisibilityChange);\n\n    return () => {\n      document.removeEventListener(\"visibilitychange\", handleVisibilityChange);\n    };\n  }, [isLogging, logSession, workMinutes]);\n\n  // Effect runs ONCE on page load to restore the timer\n  useEffect(() => {\n    if (hasRunLoadEffect.current) return;\n    hasRunLoadEffect.current = true;\n\n    const storedEndTime = localStorage.getItem(STORAGE_KEY.END_TIME);\n    const storedIsRunning =\n      localStorage.getItem(STORAGE_KEY.IS_RUNNING) === \"true\";\n    const storedMode = (localStorage.getItem(STORAGE_KEY.MODE) || \"work\") as\n      | \"work\"\n      | \"break\";\n    const storedDuration = parseInt(\n      localStorage.getItem(STORAGE_KEY.STARTED_DURATION) || \"0\"\n    );\n\n    if (storedIsRunning && storedEndTime) {\n      const remainingTime = Math.round(\n        (parseInt(storedEndTime) - Date.now()) / 1000\n      );\n\n      if (remainingTime > 0) {\n        // Timer is still running\n        setMode(storedMode);\n        setTimeLeft(remainingTime);\n        setIsRunning(true);\n      } else {\n        // Timer finished while user was away\n        setIsRunning(false);\n        clearStorage();\n        if (!isLogging) {\n          setIsLogging(true);\n          if (storedMode === \"work\") {\n            logSession(storedDuration, \"work\").then(() => setIsLogging(false));\n            alert(\"Focus session finished while you were away!\");\n          } else {\n            logSession(storedDuration, \"break\").then(() => setIsLogging(false));\n            alert(\"Break finished while you were away!\");\n          }\n        }\n        setMode(\"work\");\n        setTimeLeft(workMinutes * 60);\n      }\n    }\n  }, [logSession, workMinutes, isLogging]);\n\n  // Effect is just the countdown\n  useEffect(() => {\n    if (isRunning && timeLeft > 0) {\n      intervalRef.current = setInterval(() => {\n        setTimeLeft((prev) => prev - 1);\n      }, 1000);\n    } else if (isRunning && timeLeft === 0) {\n      // Timer finished\n      setIsRunning(false);\n      if (intervalRef.current) {\n        clearInterval(intervalRef.current);\n      }\n      clearStorage();\n\n      if (!isLogging) {\n        setIsLogging(true);\n        if (mode === \"work\") {\n          const duration = parseInt(\n            localStorage.getItem(STORAGE_KEY.STARTED_DURATION) ||\n              workMinutes.toString()\n          );\n          logSession(duration, \"work\").then(() => setIsLogging(false));\n          alert(\"Focus session complete! Click 'Break' to start a break.\");\n        } else {\n          const duration = parseInt(\n            localStorage.getItem(STORAGE_KEY.STARTED_DURATION) ||\n              breakMinutes.toString()\n          );\n          logSession(duration, \"break\").then(() => setIsLogging(false));\n          alert(\"Break's over! Click 'Focus' to start a new session.\");\n        }\n      }\n    }\n\n    return () => {\n      if (intervalRef.current) {\n        clearInterval(intervalRef.current);\n      }\n    };\n  }, [\n    isRunning,\n    timeLeft,\n    mode,\n    logSession,\n    workMinutes,\n    breakMinutes,\n    isLogging,\n  ]);\n\n  // --- Button Handlers ---\n\n  const handleStartPause = () => {\n    if (isRunning) {\n      // Pausing\n      setIsRunning(false);\n      localStorage.setItem(STORAGE_KEY.IS_RUNNING, \"false\");\n    } else {\n      // Starting\n      setIsRunning(true);\n      const durationMinutes = mode === \"work\" ? workMinutes : breakMinutes;\n      // Use the *current* timeLeft, not the full time\n      const endTime = Date.now() + timeLeft * 1000;\n\n      localStorage.setItem(STORAGE_KEY.END_TIME, endTime.toString());\n      localStorage.setItem(STORAGE_KEY.IS_RUNNING, \"true\");\n      localStorage.setItem(STORAGE_KEY.MODE, mode);\n      localStorage.setItem(\n        STORAGE_KEY.STARTED_DURATION,\n        durationMinutes.toString()\n      );\n    }\n  };\n\n  const handleStopAndSave = () => {\n    if (!confirm(\"Stop the timer and save this session?\")) {\n      return;\n    }\n\n    setIsRunning(false);\n    const storedDuration = parseInt(\n      localStorage.getItem(STORAGE_KEY.STARTED_DURATION) || \"0\"\n    );\n\n    if (mode === \"work\" && storedDuration > 0) {\n      const elapsedSeconds = storedDuration * 60 - timeLeft;\n      const elapsedMinutes = Math.floor(elapsedSeconds / 60);\n\n      if (elapsedMinutes > 0) {\n        if (!isLogging) {\n          setIsLogging(true);\n          logSession(elapsedMinutes, \"work\").then(() => setIsLogging(false));\n          alert(`Session saved! You completed ${elapsedMinutes} minutes.`);\n        }\n      } else {\n        alert(\"Timer reset. No time logged.\");\n      }\n    }\n    clearStorage();\n    setMode(\"work\");\n    setTimeLeft(workMinutes * 60);\n  };\n\n  // âœ… --- THE FIX: Updated the check for an active session ---\n  const handleModeSwitch = (newMode: \"work\" | \"break\") => {\n    // Check if trying to switch to a different mode\n    if (newMode !== mode) {\n      // Check if the timer is *actually* active (running or paused mid-session)\n      const fullCurrentTime =\n        (mode === \"work\" ? workMinutes : breakMinutes) * 60;\n      const isActuallyActive =\n        isRunning || (!isRunning && timeLeft > 0 && timeLeft < fullCurrentTime);\n\n      if (isActuallyActive) {\n        alert(\n          `You are in an active ${mode} session. Please stop or finish it before switching to ${newMode}.`\n        );\n        return; // Prevent switching\n      }\n    }\n\n    // Allow switching if session is finished (timeLeft === 0) or not started\n    setIsRunning(false);\n    clearStorage();\n    setMode(newMode);\n    setTimeLeft((newMode === \"work\" ? workMinutes : breakMinutes) * 60);\n  };\n\n  const handleWorkMinutesChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const minutes = parseInt(e.target.value);\n    if (minutes > 0) {\n      setWorkMinutes(minutes);\n      if (mode === \"work\" && !isRunning) {\n        setTimeLeft(minutes * 60);\n      }\n    }\n  };\n\n  const handleBreakMinutesChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const minutes = parseInt(e.target.value);\n    if (minutes > 0) {\n      setBreakMinutes(minutes);\n      if (mode === \"break\" && !isRunning) {\n        setTimeLeft(minutes * 60);\n      }\n    }\n  };\n\n  // --- History Logic (Unchanged) ---\n  const groupedSessions = sessions.reduce((acc, session) => {\n    const day = format(new Date(session.completedAt), \"MMMM d, yyyy\");\n    if (!acc[day]) {\n      acc[day] = [];\n    }\n    acc[day].push(session);\n    return acc;\n  }, {} as Record<string, PomodoroSession[]>);\n  const sortedDays = Object.keys(groupedSessions).sort(\n    (a, b) => new Date(b).getTime() - new Date(a).getTime()\n  );\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 p-4\">\n      <div className=\"max-w-md mx-auto\">\n        <h1 className=\"text-2xl font-bold text-gray-900 mb-6\">\n          Pomodoro Timer\n        </h1>\n\n        {/* Mode Switcher Buttons */}\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-4 flex gap-2\">\n          <button\n            onClick={() => handleModeSwitch(\"work\")}\n            className={`flex-1 p-2 rounded ${\n              mode === \"work\"\n                ? \"bg-blue-600 text-white\"\n                : \"bg-gray-100 text-gray-800\"\n            }`}\n          >\n            Focus\n          </button>\n          <button\n            onClick={() => handleModeSwitch(\"break\")}\n            className={`flex-1 p-2 rounded ${\n              mode === \"break\"\n                ? \"bg-green-600 text-white\"\n                : \"bg-gray-100 text-gray-800\"\n            }`}\n          >\n            Break\n          </button>\n        </div>\n\n        {/* Timer Display */}\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-8 mb-8 text-center\">\n          <div className=\"text-8xl font-mono font-bold text-gray-900 mb-6\">\n            {formatTime(timeLeft)}\n          </div>\n          <div className=\"flex justify-center gap-3\">\n            <button\n              onClick={handleStartPause}\n              className={`px-6 py-2 rounded text-white ${\n                isRunning\n                  ? \"bg-yellow-600 hover:bg-yellow-700\"\n                  : \"bg-green-600 hover:bg-green-700\"\n              }`}\n            >\n              {/* Change button text based on whether timer is finished */}\n              {isRunning ? \"Pause\" : timeLeft === 0 ? \"Start New\" : \"Start\"}\n            </button>\n\n            {timeLeft > 0 && timeLeft < workMinutes * 60 && mode === \"work\" && (\n              <button\n                onClick={handleStopAndSave}\n                className=\"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700\"\n              >\n                Stop & Save\n              </button>\n            )}\n          </div>\n        </div>\n\n        {/* Time Configuration */}\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8\">\n          <h2 className=\"text-lg font-medium text-gray-900 mb-4\">Settings</h2>\n          <div className=\"flex gap-4\">\n            <div className=\"flex-1\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Focus (mins)\n              </label>\n              <input\n                type=\"number\"\n                value={workMinutes}\n                onChange={handleWorkMinutesChange}\n                className=\"w-full border border-gray-300 rounded px-3 py-2 text-gray-800\"\n                disabled={isRunning}\n              />\n            </div>\n            <div className=\"flex-1\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Break (mins)\n              </label>\n              <input\n                type=\"number\"\n                value={breakMinutes}\n                onChange={handleBreakMinutesChange}\n                className=\"w-full border border-gray-300 rounded px-3 py-2 text-gray-800\"\n                disabled={isRunning}\n              />\n            </div>\n          </div>\n        </div>\n\n        {/* Session History */}\n        <div>\n          <h2 className=\"text-lg font-medium text-gray-900 mb-4\">\n            Completed Sessions\n          </h2>\n          {sortedDays.length > 0 ? (\n            <div className=\"space-y-6\">\n              {sortedDays.map((day) => {\n                const daySessions = groupedSessions[day];\n                const totalMinutes = daySessions.reduce(\n                  (sum, s) => sum + s.durationMinutes,\n                  0\n                );\n                return (\n                  <div\n                    key={day}\n                    className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\"\n                  >\n                    <div className=\"flex justify-between items-center mb-3 pb-3 border-b border-gray-200\">\n                      <h3 className=\"font-medium text-gray-900\">{day}</h3>\n                      <p className=\"text-sm text-gray-600\">\n                        {daySessions.length} sessions\n                        <span className=\"mx-2\">|</span>\n                        {totalMinutes} minutes total\n                      </p>\n                    </div>\n                    <ul className=\"space-y-2\">\n                      {daySessions\n                        .sort((a, b) => b.completedAt - a.completedAt)\n                        .map((session) => (\n                          <li\n                            key={session.id}\n                            className=\"flex justify-between items-center text-sm\"\n                          >\n                            <span\n                              className={\n                                session.type === \"break\"\n                                  ? \"text-green-700\"\n                                  : \"text-gray-800\"\n                              }\n                            >\n                              {session.durationMinutes} minute {session.type}{\" \"}\n                              session\n                            </span>\n                            <span className=\"text-gray-500\">\n                              {format(new Date(session.completedAt), \"h:mm a\")}\n                            </span>\n                          </li>\n                        ))}\n                    </ul>\n                  </div>\n                );\n              })}\n            </div>\n          ) : (\n            <p className=\"text-gray-500 text-center mt-8\">\n              No sessions yet. Start a timer!\n            </p>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}