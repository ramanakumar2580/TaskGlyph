{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/ramanakumar/taskglyph/src/lib/db/useTier.ts"],"sourcesContent":["// src/lib/db/useTier.ts\n\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { useSession } from \"next-auth/react\";\nimport db, { UserMetadata } from \"./clientDb\";\n\nexport function useTier() {\n  const { data: session, status } = useSession();\n  const [tier, setTier] = useState<UserMetadata[\"tier\"] | null>(null);\n\n  useEffect(() => {\n    // 1. Define an async function to fetch and set tier\n    const getAndSetTier = async (userId: string) => {\n      // 2. Try getting from local DB first for speed\n      const localMeta = await db.userMetadata.get(userId);\n      if (localMeta) {\n        setTier(localMeta.tier);\n      }\n\n      // 3. Fetch from server to get the *latest* tier info\n      // We need to create this API route next\n      try {\n        const response = await fetch(\"/api/user/tier\");\n        if (response.ok) {\n          const data = await response.json();\n          if (data.tier) {\n            // 4. Save the latest info to local DB and update state\n            await db.userMetadata.put({\n              userId: userId,\n              tier: data.tier,\n              trialStartedAt: data.trialStartedAt || 0,\n            });\n            setTier(data.tier);\n          }\n        } else {\n          // If fetch fails, fall back to local or 'free'\n          if (!localMeta) setTier(\"free\");\n        }\n      } catch (error) {\n        console.error(\"Failed to fetch user tier:\", error);\n        // If fetch fails, fall back to local or 'free'\n        if (!localMeta) setTier(\"free\");\n      }\n    };\n\n    if (status === \"authenticated\" && session?.user?.id) {\n      getAndSetTier(session.user.id);\n    } else if (status === \"unauthenticated\") {\n      setTier(null);\n    }\n  }, [session, status]);\n\n  return tier;\n}\n"],"names":[],"mappings":"AAAA,wBAAwB;;;;;AAGxB;AACA;AACA;;AAJA;;;;AAMO,SAAS;;IACd,MAAM,EAAE,MAAM,OAAO,EAAE,MAAM,EAAE,GAAG,IAAA,+JAAU;IAC5C,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAA8B;IAE9D,IAAA,0KAAS;6BAAC;gBAmC0B;YAlClC,oDAAoD;YACpD,MAAM;mDAAgB,OAAO;oBAC3B,+CAA+C;oBAC/C,MAAM,YAAY,MAAM,0IAAE,CAAC,YAAY,CAAC,GAAG,CAAC;oBAC5C,IAAI,WAAW;wBACb,QAAQ,UAAU,IAAI;oBACxB;oBAEA,qDAAqD;oBACrD,wCAAwC;oBACxC,IAAI;wBACF,MAAM,WAAW,MAAM,MAAM;wBAC7B,IAAI,SAAS,EAAE,EAAE;4BACf,MAAM,OAAO,MAAM,SAAS,IAAI;4BAChC,IAAI,KAAK,IAAI,EAAE;gCACb,uDAAuD;gCACvD,MAAM,0IAAE,CAAC,YAAY,CAAC,GAAG,CAAC;oCACxB,QAAQ;oCACR,MAAM,KAAK,IAAI;oCACf,gBAAgB,KAAK,cAAc,IAAI;gCACzC;gCACA,QAAQ,KAAK,IAAI;4BACnB;wBACF,OAAO;4BACL,+CAA+C;4BAC/C,IAAI,CAAC,WAAW,QAAQ;wBAC1B;oBACF,EAAE,OAAO,OAAO;wBACd,QAAQ,KAAK,CAAC,8BAA8B;wBAC5C,+CAA+C;wBAC/C,IAAI,CAAC,WAAW,QAAQ;oBAC1B;gBACF;;YAEA,IAAI,WAAW,oBAAmB,oBAAA,+BAAA,gBAAA,QAAS,IAAI,cAAb,oCAAA,cAAe,EAAE,GAAE;gBACnD,cAAc,QAAQ,IAAI,CAAC,EAAE;YAC/B,OAAO,IAAI,WAAW,mBAAmB;gBACvC,QAAQ;YACV;QACF;4BAAG;QAAC;QAAS;KAAO;IAEpB,OAAO;AACT;GA/CgB;;QACoB,+JAAU","debugId":null}},
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///Users/ramanakumar/taskglyph/src/components/AppNavbar.tsx"],"sourcesContent":["// src/components/AppNavbar.tsx\n\"use client\";\n\nimport { Fragment } from \"react\";\nimport Link from \"next/link\";\nimport Image from \"next/image\";\nimport { useSession, signOut } from \"next-auth/react\";\nimport { Disclosure, Menu, Transition } from \"@headlessui/react\";\nimport {\n  ChevronDownIcon,\n  ListBulletIcon,\n  PencilIcon,\n  BookOpenIcon,\n  ClockIcon,\n  UserCircleIcon,\n  HomeIcon,\n  ChartBarIcon,\n  Bars3Icon,\n  XMarkIcon,\n  // ✅ FIX: Renamed deprecated icon\n  ArrowRightEndOnRectangleIcon,\n} from \"@heroicons/react/24/outline\";\nimport { useTier } from \"@/lib/db/useTier\";\nimport { usePathname } from \"next/navigation\";\n\nfunction classNames(...classes: string[]) {\n  return classes.filter(Boolean).join(\" \");\n}\n\nexport default function AppNavbar() {\n  const { data: session } = useSession();\n  const tier = useTier();\n  const pathname = usePathname();\n\n  const appLinks = [\n    { name: \"Home\", href: \"/app\", icon: HomeIcon },\n    { name: \"Tasks\", href: \"/app/tasks\", icon: ListBulletIcon },\n    { name: \"Notes\", href: \"/app/notes\", icon: PencilIcon },\n    { name: \"Diary\", href: \"/app/diary\", icon: BookOpenIcon },\n    { name: \"Pomodoro\", href: \"/app/pomodoro\", icon: ClockIcon },\n    { name: \"Dashboard\", href: \"/app/dashboard\", icon: ChartBarIcon },\n  ];\n\n  return (\n    <Disclosure\n      as=\"nav\"\n      className=\"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-40\"\n    >\n      {({ open }) => (\n        <>\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n            {/* ✅ FIX: Changed layout to flex-1 to allow for centering */}\n            <div className=\"flex h-16\">\n              {/* Left Side: Logo */}\n              <div className=\"flex-shrink-0 flex items-center\">\n                <Link href=\"/app\">\n                  <Image\n                    src=\"/logo.png\" // Using logo3.png\n                    alt=\"TaskGlyph Logo\"\n                    width={150}\n                    height={32}\n                    className=\"h-40 w-auto\" // ✅ FIX: Corrected height\n                  />\n                </Link>\n              </div>\n\n              {/* Center: App Links (Desktop) */}\n              <div className=\"hidden sm:flex flex-1 items-center justify-center space-x-8\">\n                {appLinks.map((item) => {\n                  const isActive = pathname === item.href;\n                  return (\n                    <Link\n                      key={item.name}\n                      href={item.href}\n                      className={classNames(\n                        isActive\n                          ? \"border-blue-500 text-blue-600\"\n                          : \"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700\",\n                        \"inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium\"\n                      )}\n                      aria-current={isActive ? \"page\" : undefined}\n                    >\n                      <item.icon\n                        className={classNames(\n                          isActive ? \"text-blue-500\" : \"text-gray-400\",\n                          \"h-5 w-5 mr-1.5\"\n                        )}\n                      />\n                      {item.name}\n                    </Link>\n                  );\n                })}\n              </div>\n\n              {/* Right Side: Tier & Profile (Desktop) */}\n              <div className=\"hidden sm:ml-6 sm:flex sm:items-center flex-shrink-0\">\n                <span\n                  className={classNames(\n                    \"inline-flex items-center px-3 py-0.5 rounded-full text-sm font-medium mr-4\",\n                    tier === \"free\"\n                      ? \"bg-blue-100 text-blue-800\"\n                      : \"bg-green-100 text-green-800\"\n                  )}\n                >\n                  {tier\n                    ? `${tier.charAt(0).toUpperCase() + tier.slice(1)} Tier`\n                    : \"Loading...\"}\n                </span>\n\n                <Menu as=\"div\" className=\"relative\">\n                  <div>\n                    <Menu.Button className=\"flex items-center text-sm rounded-full hover:opacity-80 transition focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\">\n                      <span className=\"sr-only\">Open user menu</span>\n                      {session?.user?.image ? (\n                        <Image\n                          className=\"h-9 w-9 rounded-full\"\n                          src={session.user.image}\n                          alt=\"Profile picture\"\n                          width={36}\n                          height={36}\n                        />\n                      ) : (\n                        <UserCircleIcon className=\"h-9 w-9 text-gray-400\" />\n                      )}\n                      <ChevronDownIcon className=\"h-4 w-4 text-gray-400 ml-1\" />\n                    </Menu.Button>\n                  </div>\n                  <Transition\n                    as={Fragment}\n                    enter=\"transition ease-out duration-200\"\n                    enterFrom=\"transform opacity-0 scale-95\"\n                    enterTo=\"transform opacity-100 scale-100\"\n                    leave=\"transition ease-in duration-75\"\n                    leaveFrom=\"transform opacity-100 scale-100\"\n                    leaveTo=\"transform opacity-0 scale-95\"\n                  >\n                    <Menu.Items className=\"origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none\">\n                      <div className=\"px-4 py-3 border-b border-gray-100\">\n                        <p className=\"text-sm font-medium text-gray-900 truncate\">\n                          {session?.user?.name || \"User\"}\n                        </p>\n                        <p className=\"text-sm text-gray-500 truncate\">\n                          {session?.user?.email}\n                        </p>\n                      </div>\n                      <Menu.Item>\n                        {({ active }) => (\n                          <Link\n                            href=\"/app/settings\"\n                            className={classNames(\n                              active ? \"bg-gray-100\" : \"\",\n                              \"block px-4 py-2 text-sm text-gray-700\"\n                            )}\n                          >\n                            Settings\n                          </Link>\n                        )}\n                      </Menu.Item>\n                      <Menu.Item>\n                        {({ active }) => (\n                          <button\n                            onClick={() => signOut({ callbackUrl: \"/\" })}\n                            className={classNames(\n                              active ? \"bg-gray-100\" : \"\",\n                              \"w-full text-left flex items-center px-4 py-2 text-sm text-gray-700\"\n                            )}\n                          >\n                            {/* ✅ FIX: Use new icon */}\n                            <ArrowRightEndOnRectangleIcon className=\"h-5 w-5 mr-2\" />\n                            Sign out\n                          </button>\n                        )}\n                      </Menu.Item>\n                    </Menu.Items>\n                  </Transition>\n                </Menu>\n              </div>\n\n              {/* Mobile Menu Button */}\n              <div className=\"-mr-2 flex items-center sm:hidden\">\n                <Disclosure.Button className=\"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500\">\n                  <span className=\"sr-only\">Open main menu</span>\n                  {open ? (\n                    <XMarkIcon className=\"block h-6 w-6\" aria-hidden=\"true\" />\n                  ) : (\n                    <Bars3Icon className=\"block h-6 w-6\" aria-hidden=\"true\" />\n                  )}\n                </Disclosure.Button>\n              </div>\n            </div>\n          </div>\n\n          {/* Mobile Menu Panel (Slides down) */}\n          <Disclosure.Panel className=\"sm:hidden border-t border-gray-200\">\n            <div className=\"pt-2 pb-3 space-y-1\">\n              {appLinks.map((item) => {\n                const isActive = pathname === item.href;\n                return (\n                  <Disclosure.Button\n                    key={item.name}\n                    as={Link}\n                    href={item.href}\n                    className={classNames(\n                      isActive\n                        ? \"bg-blue-50 border-blue-500 text-blue-700\"\n                        : \"border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800\",\n                      \"flex items-center pl-3 pr-4 py-2 border-l-4 text-base font-medium\"\n                    )}\n                    aria-current={isActive ? \"page\" : undefined}\n                  >\n                    <item.icon\n                      className={classNames(\n                        isActive ? \"text-blue-500\" : \"text-gray-400\",\n                        \"h-6 w-6 mr-3\"\n                      )}\n                    />\n                    {item.name}\n                  </Disclosure.Button>\n                );\n              })}\n            </div>\n            {/* Profile Section in Mobile Menu */}\n            <div className=\"pt-4 pb-3 border-t border-gray-200\">\n              <div className=\"flex items-center px-4\">\n                <div className=\"flex-shrink-0\">\n                  {session?.user?.image ? (\n                    <Image\n                      className=\"h-10 w-10 rounded-full\"\n                      src={session.user.image}\n                      alt=\"Profile picture\"\n                      width={40}\n                      height={40}\n                    />\n                  ) : (\n                    <UserCircleIcon className=\"h-10 w-10 text-gray-400\" />\n                  )}\n                </div>\n                <div className=\"ml-3\">\n                  <div className=\"text-base font-medium text-gray-800\">\n                    {session?.user?.name || \"User\"}\n                  </div>\n                  <div className=\"text-sm font-medium text-gray-500\">\n                    {session?.user?.email}\n                  </div>\n                </div>\n              </div>\n              <div className=\"mt-3 space-y-1\">\n                <Disclosure.Button\n                  as={Link}\n                  href=\"/app/settings\"\n                  className=\"block px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100\"\n                >\n                  Settings\n                </Disclosure.Button>\n                <Disclosure.Button\n                  as=\"button\"\n                  onClick={() => signOut({ callbackUrl: \"/\" })}\n                  className=\"w-full text-left flex items-center px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100\"\n                >\n                  {/* ✅ FIX: Use new icon */}\n                  <ArrowRightEndOnRectangleIcon className=\"h-6 w-6 mr-2\" />\n                  Sign out\n                </Disclosure.Button>\n              </div>\n            </div>\n          </Disclosure.Panel>\n        </>\n      )}\n    </Disclosure>\n  );\n}\n"],"names":[],"mappings":"AAAA,+BAA+B;;;;;;AAG/B;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcA;AACA;;;AAtBA;;;;;;;;;AAwBA,SAAS;IAAW,IAAA,IAAA,OAAA,UAAA,QAAA,AAAG,UAAH,UAAA,OAAA,OAAA,GAAA,OAAA,MAAA;QAAG,QAAH,QAAA,SAAA,CAAA,KAAoB;;IACtC,OAAO,QAAQ,MAAM,CAAC,SAAS,IAAI,CAAC;AACtC;AAEe,SAAS;;IACtB,MAAM,EAAE,MAAM,OAAO,EAAE,GAAG,IAAA,+JAAU;IACpC,MAAM,OAAO,IAAA,yIAAO;IACpB,MAAM,WAAW,IAAA,oJAAW;IAE5B,MAAM,WAAW;QACf;YAAE,MAAM;YAAQ,MAAM;YAAQ,MAAM,8NAAQ;QAAC;QAC7C;YAAE,MAAM;YAAS,MAAM;YAAc,MAAM,gPAAc;QAAC;QAC1D;YAAE,MAAM;YAAS,MAAM;YAAc,MAAM,oOAAU;QAAC;QACtD;YAAE,MAAM;YAAS,MAAM;YAAc,MAAM,0OAAY;QAAC;QACxD;YAAE,MAAM;YAAY,MAAM;YAAiB,MAAM,iOAAS;QAAC;QAC3D;YAAE,MAAM;YAAa,MAAM;YAAkB,MAAM,0OAAY;QAAC;KACjE;IAED,qBACE,6LAAC,wMAAU;QACT,IAAG;QACH,WAAU;kBAET;gBAAC,EAAE,IAAI,EAAE;gBAiEO,eA0BI,gBAGA,gBAmFR,gBAcE,gBAGA;iCAjMb;;kCACE,6LAAC;wBAAI,WAAU;kCAEb,cAAA,6LAAC;4BAAI,WAAU;;8CAEb,6LAAC;oCAAI,WAAU;8CACb,cAAA,6LAAC,0KAAI;wCAAC,MAAK;kDACT,cAAA,6LAAC,2IAAK;4CACJ,KAAI;4CACJ,KAAI;4CACJ,OAAO;4CACP,QAAQ;4CACR,WAAU;;;;;;;;;;;;;;;;8CAMhB,6LAAC;oCAAI,WAAU;8CACZ,SAAS,GAAG,CAAC,CAAC;wCACb,MAAM,WAAW,aAAa,KAAK,IAAI;wCACvC,qBACE,6LAAC,0KAAI;4CAEH,MAAM,KAAK,IAAI;4CACf,WAAW,WACT,WACI,kCACA,8EACJ;4CAEF,gBAAc,WAAW,SAAS;;8DAElC,6LAAC,KAAK,IAAI;oDACR,WAAW,WACT,WAAW,kBAAkB,iBAC7B;;;;;;gDAGH,KAAK,IAAI;;2CAhBL,KAAK,IAAI;;;;;oCAmBpB;;;;;;8CAIF,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CACC,WAAW,WACT,8EACA,SAAS,SACL,8BACA;sDAGL,OACG,AAAC,GAA+C,OAA7C,KAAK,MAAM,CAAC,GAAG,WAAW,KAAK,KAAK,KAAK,CAAC,IAAG,WAChD;;;;;;sDAGN,6LAAC,sLAAI;4CAAC,IAAG;4CAAM,WAAU;;8DACvB,6LAAC;8DACC,cAAA,6LAAC,sLAAI,CAAC,MAAM;wDAAC,WAAU;;0EACrB,6LAAC;gEAAK,WAAU;0EAAU;;;;;;4DACzB,CAAA,oBAAA,+BAAA,gBAAA,QAAS,IAAI,cAAb,oCAAA,cAAe,KAAK,kBACnB,6LAAC,2IAAK;gEACJ,WAAU;gEACV,KAAK,QAAQ,IAAI,CAAC,KAAK;gEACvB,KAAI;gEACJ,OAAO;gEACP,QAAQ;;;;;qFAGV,6LAAC,gPAAc;gEAAC,WAAU;;;;;;0EAE5B,6LAAC,mPAAe;gEAAC,WAAU;;;;;;;;;;;;;;;;;8DAG/B,6LAAC,wMAAU;oDACT,IAAI,yKAAQ;oDACZ,OAAM;oDACN,WAAU;oDACV,SAAQ;oDACR,OAAM;oDACN,WAAU;oDACV,SAAQ;8DAER,cAAA,6LAAC,sLAAI,CAAC,KAAK;wDAAC,WAAU;;0EACpB,6LAAC;gEAAI,WAAU;;kFACb,6LAAC;wEAAE,WAAU;kFACV,CAAA,oBAAA,+BAAA,iBAAA,QAAS,IAAI,cAAb,qCAAA,eAAe,IAAI,KAAI;;;;;;kFAE1B,6LAAC;wEAAE,WAAU;kFACV,oBAAA,+BAAA,iBAAA,QAAS,IAAI,cAAb,qCAAA,eAAe,KAAK;;;;;;;;;;;;0EAGzB,6LAAC,sLAAI,CAAC,IAAI;0EACP;wEAAC,EAAE,MAAM,EAAE;yFACV,6LAAC,0KAAI;wEACH,MAAK;wEACL,WAAW,WACT,SAAS,gBAAgB,IACzB;kFAEH;;;;;;;;;;;;0EAKL,6LAAC,sLAAI,CAAC,IAAI;0EACP;wEAAC,EAAE,MAAM,EAAE;yFACV,6LAAC;wEACC,SAAS,IAAM,IAAA,4JAAO,EAAC;gFAAE,aAAa;4EAAI;wEAC1C,WAAW,WACT,SAAS,gBAAgB,IACzB;;0FAIF,6LAAC,0RAA4B;gFAAC,WAAU;;;;;;4EAAiB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8CAWvE,6LAAC;oCAAI,WAAU;8CACb,cAAA,6LAAC,wMAAU,CAAC,MAAM;wCAAC,WAAU;;0DAC3B,6LAAC;gDAAK,WAAU;0DAAU;;;;;;4CACzB,qBACC,6LAAC,iOAAS;gDAAC,WAAU;gDAAgB,eAAY;;;;;qEAEjD,6LAAC,iOAAS;gDAAC,WAAU;gDAAgB,eAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAQ3D,6LAAC,wMAAU,CAAC,KAAK;wBAAC,WAAU;;0CAC1B,6LAAC;gCAAI,WAAU;0CACZ,SAAS,GAAG,CAAC,CAAC;oCACb,MAAM,WAAW,aAAa,KAAK,IAAI;oCACvC,qBACE,6LAAC,wMAAU,CAAC,MAAM;wCAEhB,IAAI,0KAAI;wCACR,MAAM,KAAK,IAAI;wCACf,WAAW,WACT,WACI,6CACA,+FACJ;wCAEF,gBAAc,WAAW,SAAS;;0DAElC,6LAAC,KAAK,IAAI;gDACR,WAAW,WACT,WAAW,kBAAkB,iBAC7B;;;;;;4CAGH,KAAK,IAAI;;uCAjBL,KAAK,IAAI;;;;;gCAoBpB;;;;;;0CAGF,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAI,WAAU;0DACZ,CAAA,oBAAA,+BAAA,iBAAA,QAAS,IAAI,cAAb,qCAAA,eAAe,KAAK,kBACnB,6LAAC,2IAAK;oDACJ,WAAU;oDACV,KAAK,QAAQ,IAAI,CAAC,KAAK;oDACvB,KAAI;oDACJ,OAAO;oDACP,QAAQ;;;;;yEAGV,6LAAC,gPAAc;oDAAC,WAAU;;;;;;;;;;;0DAG9B,6LAAC;gDAAI,WAAU;;kEACb,6LAAC;wDAAI,WAAU;kEACZ,CAAA,oBAAA,+BAAA,iBAAA,QAAS,IAAI,cAAb,qCAAA,eAAe,IAAI,KAAI;;;;;;kEAE1B,6LAAC;wDAAI,WAAU;kEACZ,oBAAA,+BAAA,iBAAA,QAAS,IAAI,cAAb,qCAAA,eAAe,KAAK;;;;;;;;;;;;;;;;;;kDAI3B,6LAAC;wCAAI,WAAU;;0DACb,6LAAC,wMAAU,CAAC,MAAM;gDAChB,IAAI,0KAAI;gDACR,MAAK;gDACL,WAAU;0DACX;;;;;;0DAGD,6LAAC,wMAAU,CAAC,MAAM;gDAChB,IAAG;gDACH,SAAS,IAAM,IAAA,4JAAO,EAAC;wDAAE,aAAa;oDAAI;gDAC1C,WAAU;;kEAGV,6LAAC,0RAA4B;wDAAC,WAAU;;;;;;oDAAiB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAU3E;GAjPwB;;QACI,+JAAU;QACvB,yIAAO;QACH,oJAAW;;;KAHN","debugId":null}},
    {"offset": {"line": 619, "column": 0}, "map": {"version":3,"sources":["file:///Users/ramanakumar/taskglyph/src/app/app/layout.tsx"],"sourcesContent":["// src/app/app/layout.tsx\n\"use client\";\n\nimport AppNavbar from \"@/components/AppNavbar\";\nimport { useSession } from \"next-auth/react\";\nimport { useRouter } from \"next/navigation\";\nimport { useEffect } from \"react\";\n\nexport default function AppLayout({ children }: { children: React.ReactNode }) {\n  const { data: session, status } = useSession();\n  const router = useRouter();\n\n  useEffect(() => {\n    // This is the auth protection\n    if (status === \"loading\") return; // Wait until session is loaded\n    if (!session) {\n      // If no session, redirect to sign-in\n      router.push(\"/auth/signin\");\n    }\n  }, [session, status, router]);\n\n  // Show a loading state while checking session\n  if (status === \"loading\") {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n        <p className=\"text-gray-600\">Loading session...</p>\n      </div>\n    );\n  }\n\n  // If authenticated, show the app layout\n  if (session) {\n    return (\n      <div className=\"min-h-screen bg-gray-50\">\n        <AppNavbar /> {/* Your new \"extraordinary\" navbar */}\n        <main className=\"py-10\">\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n            {children}\n          </div>\n        </main>\n      </div>\n    );\n  }\n\n  // Fallback for unauthenticated state (should be covered by redirect)\n  return null;\n}\n"],"names":[],"mappings":"AAAA,yBAAyB;;;;;;AAGzB;AACA;AACA;AACA;;;AALA;;;;;AAOe,SAAS,UAAU,KAA2C;QAA3C,EAAE,QAAQ,EAAiC,GAA3C;;IAChC,MAAM,EAAE,MAAM,OAAO,EAAE,MAAM,EAAE,GAAG,IAAA,+JAAU;IAC5C,MAAM,SAAS,IAAA,kJAAS;IAExB,IAAA,0KAAS;+BAAC;YACR,8BAA8B;YAC9B,IAAI,WAAW,WAAW,QAAQ,+BAA+B;YACjE,IAAI,CAAC,SAAS;gBACZ,qCAAqC;gBACrC,OAAO,IAAI,CAAC;YACd;QACF;8BAAG;QAAC;QAAS;QAAQ;KAAO;IAE5B,8CAA8C;IAC9C,IAAI,WAAW,WAAW;QACxB,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAE,WAAU;0BAAgB;;;;;;;;;;;IAGnC;IAEA,wCAAwC;IACxC,IAAI,SAAS;QACX,qBACE,6LAAC;YAAI,WAAU;;8BACb,6LAAC,6IAAS;;;;;gBAAG;8BACb,6LAAC;oBAAK,WAAU;8BACd,cAAA,6LAAC;wBAAI,WAAU;kCACZ;;;;;;;;;;;;;;;;;IAKX;IAEA,qEAAqE;IACrE,OAAO;AACT;GAtCwB;;QACY,+JAAU;QAC7B,kJAAS;;;KAFF","debugId":null}}]
}